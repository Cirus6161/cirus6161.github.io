!function(f){function o(t){n&&n.length&&n.is(":visible")&&d.$html.add(d.$body).animate({scrollTop:n.offset().top+t}),n=!1}function a(t){try{return!("#"==t||"#"!=t.slice(0,1)||!d.$page.find(t).length)}catch(t){return!1}}var c,i,d,h="mmenu",p="pageScroll";f[h].addons[p]={setup:function(){var s=this,t=this.opts[p],n=this.conf[p];if(d=f[h].glbl,"boolean"==typeof t&&(t={scroll:t}),(t=this.opts[p]=f.extend(!0,{},f[h].defaults[p],t)).scroll&&this.bind("close:finish",function(){o(n.scrollOffset)}),t.update){var e=[],l=[];(s=this).bind("initListview:after",function(t){s.__filterListItemAnchors(t.find("."+c.listview).children("li")).each(function(){var t=f(this).attr("href");a(t)&&e.push(t)}),l=e.reverse()});var r=-1;d.$wndw.on(i.scroll+"-"+p,function(t){for(var e=d.$wndw.scrollTop(),i=0;i<l.length;i++)if(f(l[i]).offset().top<e+n.updateOffset){r!==i&&(r=i,s.setSelected(s.__filterListItemAnchors(s.$pnls.children("."+c.panel+"_opened").find("."+c.listview).children("li")).filter('[href="'+l[i]+'"]').parent()));break}})}},add:function(){c=f[h]._c,f[h]._d,i=f[h]._e},clickAnchor:function(t,e,i){if(n=!1,e&&i&&this.opts.offCanvas&&this.opts[p].scroll&&d.$page&&d.$page.length){var s=t.attr("href");if(a(s)){if(n=f(s),!this.$menu.hasClass(c.mm("sidebar-expanded"))||!d.$html.is('[class*="'+c.mm("sidebar-expanded")+'"]'))return{close:!0};o(this.conf[p].scrollOffset)}}}},f[h].defaults[p]={scroll:!1,update:!1};var n=!(f[h].configuration[p]={scrollOffset:0,updateOffset:50})}(jQuery);